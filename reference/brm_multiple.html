<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run the same <span class="pkg">brms</span> model on multiple datasets — brm_multiple • brms</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Run the same <span class="pkg">brms</span> model on multiple datasets — brm_multiple" />

<meta property="og:description" content="Run the same brms model on multiple datasets and
then combine the results into one fitted model object. 
This is useful in particular for multiple missing value imputation,
where the same model is fitted on multiple imputed data sets." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">brms</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/brms_customfamilies.html">Define Custom Response Distributions with brms</a>
    </li>
    <li>
      <a href="../articles/brms_distreg.html">Estimating Distributional Models with brms</a>
    </li>
    <li>
      <a href="../articles/brms_families.html">Parameterization of Response Distributions in brms</a>
    </li>
    <li>
      <a href="../articles/brms_missings.html">Handle Missing Values with brms</a>
    </li>
    <li>
      <a href="../articles/brms_monotonic.html">Estimating Monotonic Effects with brms</a>
    </li>
    <li>
      <a href="../articles/brms_multivariate.html">Estimating Multivariate Models with brms</a>
    </li>
    <li>
      <a href="../articles/brms_nonlinear.html">Estimating Non-Linear Models with brms</a>
    </li>
    <li>
      <a href="../articles/brms_phylogenetics.html">Estimating Phylogenetic Multilevel Models with brms</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paul-buerkner/brms">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run the same <span class="pkg">brms</span> model on multiple datasets</h1>
    <small class="dont-index">Source: <a href='https://github.com/paul-buerkner/brms/blob/master/R/brm_multiple.R'><code>R/brm_multiple.R</code></a></small>
    <div class="hidden name"><code>brm_multiple.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Run the same <span class="pkg">brms</span> model on multiple datasets and
then combine the results into one fitted model object. 
This is useful in particular for multiple missing value imputation,
where the same model is fitted on multiple imputed data sets.</p>
    
    </div>

    <pre class="usage"><span class='fu'>brm_multiple</span>(<span class='no'>formula</span>, <span class='no'>data</span>, <span class='kw'>combine</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>An object of class 
<code><a href='http://www.rdocumentation.org/packages/stats/topics/formula'>formula</a></code>,
<code><a href='brmsformula.html'>brmsformula</a></code>, or <code><a href='mvbrmsformula.html'>mvbrmsformula</a></code>
(or one that can be coerced to that classes): 
A symbolic description of the model to be fitted. 
The details of model specification are explained in 
<code><a href='brmsformula.html'>brmsformula</a></code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A list of data.frames each of which will
be used to fit a separate model. Alternatively, a 
<code>mids</code> object from the <span class="pkg">mice</span> package.</p></td>
    </tr>
    <tr>
      <th>combine</th>
      <td><p>Logical; Indicates if the fitted models
should be combined into a single fitted model object
via <code><a href='combine_models.html'>combine_models</a></code>. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to <code><a href='brm.html'>brm</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>combine = TRUE</code> a <code>brmsfit_multiple</code> object,
which inherits from class <code>brmsfit</code> and behaves essentially 
the same. If <code>combine = FALSE</code> a list of <code>brmsfit</code> objects.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The combined model may issue false positive 
convergence warnings, as the MCMC chains corresponding
to different datasets may not necessarily overlap, even 
if each of the original models did converge.
To find out whether each of the original models converged,
investigate <code>fit$rhats</code>, where <code>fit</code> 
denotes the output of <code>brm_multiple</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'>library</span>(<span class='no'>mice</span>)
<span class='no'>imp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/mice/topics/mice'>mice</a></span>(<span class='no'>nhanes2</span>)

<span class='co'># fit the model using mice and lm</span>
<span class='no'>fit_imp1</span> <span class='kw'>&lt;-</span> <span class='fu'>with</span>(<span class='fu'>lm</span>(<span class='no'>bmi</span>~<span class='no'>age</span>+<span class='no'>hyp</span>+<span class='no'>chl</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>imp</span>)
<span class='fu'>summary</span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/mice/topics/pool'>pool</a></span>(<span class='no'>fit_imp1</span>))

<span class='co'># fit the model using brms</span>
<span class='no'>fit_imp2</span> <span class='kw'>&lt;-</span> <span class='fu'>brm_multiple</span>(<span class='no'>bmi</span>~<span class='no'>age</span>+<span class='no'>hyp</span>+<span class='no'>chl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>imp</span>, <span class='kw'>chains</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='fu'>summary</span>(<span class='no'>fit_imp2</span>)
<span class='fu'>plot</span>(<span class='no'>fit_imp2</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='st'>"^b_"</span>)
<span class='co'># investigate convergence of the original models</span>
<span class='no'>fit_imp2</span>$<span class='no'>rhats</span>
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Paul-Christian Bürkner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

